<!-- 

    THIS FILE TO BE HOST ON ANOTHER SERVER 
    IT AN EXAMPLE OF CONSUMING THIS QUIZ GAME

 -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Socket Pair</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="http://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <style type="text/css">
        li {
            cursor: pointer;
        }

        .chat {
            position: relative;
            width: 20%;
            margin: 10px
        }

        .chatcont {
            margin: 10px;
        }

        #chats {
            width: 100%;
            margin-top: 20px;
            display: -webkit-inline-box;
        }

        .btnclose {
            margin-left: 15px
        }

        .chats input {
            width: 70%
        }
    </style>
</head>

<body>
    <input type="text" name="user" id="user">
    <button type="button" id="log" onclick="login()">Join</button>
    <div id="userName"></div>

    <div id="question"></div>
    <div id="opt_a"></div>
    <div id="opt_b"></div>
    <div id="opt_c"></div>
    <div id="opt_d"></div>
    <script>

        var userName = $('#userName');
        /** Socket connection to be established with host server of socket*/
        var serverUrl = 'http://localhost:3000';
        var socket = io(serverUrl);
        evts();

        function evts() {
            /** will be fired when a room will be created for it */
            socket.on('assignRoom', function (data) {
                /** fire to join room */
                socket.emit('joinRoom', data);
            });

            /** Will be fired when a new question will be provided to it's room */
            socket.on('fireQuest', function (data) {
                $('#question').text('Question: ' + data.question);
                $('#opt_a').text('A) ' + data.options[0].name);
                $('#opt_b').text('B) ' + data.options[1].name);
                $('#opt_c').text('C) ' + data.options[2].name);
                $('#opt_d').text('D) ' + data.options[3].name);
            });
        }

        /** will be called on login new user */
        function login() {
            user = document.getElementById('user').value;
            /** evenet to be fire on user login or play button hit with user_name or id in String format */
            socket.emit('login', user);
            $('#user').hide();
            $('#log').hide();
            $('#userName').text(user);
        }

    </script>

</body>

</html>